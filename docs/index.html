---

title: doc_collection


keywords: fastai
sidebar: home_sidebar

summary: "A __universal__ tool for collecting documentation of python libraries."
description: "A __universal__ tool for collecting documentation of python libraries."
nb_path: "index.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: index.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="How-to-install">How to install<a class="anchor-link" href="#How-to-install"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><code>git clone https://github.com/omemaxim/doc_collection</code></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Purpose">Purpose<a class="anchor-link" href="#Purpose"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Every well-maintained PyPi module has documentation in it's source. This tool provides functionality to collect, store and search in that documentation. You can either collect documentation of one specific library or documentation of all packages you've pipped at once.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="How-to-use">How to use<a class="anchor-link" href="#How-to-use"> </a></h1>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="1.-Collection">1. Collection<a class="anchor-link" href="#1.-Collection"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>You can either collect documentation of one specific library or documentation of all packages in your python (including standard ones):</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="One-library">One library<a class="anchor-link" href="#One-library"> </a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>As mentioned above, there are two main functions: <code>extract_one</code> and <code>extract</code>. The first one allows you to create a dataframe of documentation of specific library:</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">doc_collection.core</span> <span class="kn">import</span> <span class="n">extract_one</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">extract_one</span><span class="p">(</span><span class="s1">&#39;pandas&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>text</th>
      <th>name</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>pandas.DataFrame.columns. AxisProperty\n\n    ...</td>
      <td>pandas.DataFrame.columns</td>
    </tr>
    <tr>
      <th>1</th>
      <td>pandas.Series.index. AxisProperty\n\n    The i...</td>
      <td>pandas.Series.index</td>
    </tr>
    <tr>
      <th>2</th>
      <td>pandas.DataFrame.index. AxisProperty\n\n    Th...</td>
      <td>pandas.DataFrame.index</td>
    </tr>
    <tr>
      <th>3</th>
      <td>pandas.IntervalIndex.is_non_overlapping_monoto...</td>
      <td>pandas.IntervalIndex.is_non_overlapping_monotonic</td>
    </tr>
    <tr>
      <th>4</th>
      <td>pandas.IntervalIndex.is_unique. CachedProperty...</td>
      <td>pandas.IntervalIndex.is_unique</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>2631</th>
      <td>pandas.core.internals.SingleArrayManager.is_vi...</td>
      <td>pandas.core.internals.SingleArrayManager.is_view</td>
    </tr>
    <tr>
      <th>2632</th>
      <td>pandas.core.internals.SingleBlockManager.is_vi...</td>
      <td>pandas.core.internals.SingleBlockManager.is_view</td>
    </tr>
    <tr>
      <th>2633</th>
      <td>pandas.HDFStore.is_open. property\n\n    retur...</td>
      <td>pandas.HDFStore.is_open</td>
    </tr>
    <tr>
      <th>2634</th>
      <td>pandas.RangeIndex.is_unique. property\n\n    r...</td>
      <td>pandas.RangeIndex.is_unique</td>
    </tr>
    <tr>
      <th>2635</th>
      <td>pandas.HDFStore.root. property\n\n    return t...</td>
      <td>pandas.HDFStore.root</td>
    </tr>
  </tbody>
</table>
<p>2636 rows × 2 columns</p>
</div></div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Function above returns datafrane of two columns: <strong>text</strong> column contains documentation and <strong>name</strong> column contains name of  corresponding method/class/etc</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="All-libraries-at-once">All libraries at once<a class="anchor-link" href="#All-libraries-at-once"> </a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Function below iterates over all modules in your local python and calls <code>extract_one</code> for all of it one by one</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">doc_collection.core</span> <span class="kn">import</span> <span class="n">extract</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">extract</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>--------------- exception during theano documentation extracting
--------------- exception during tensorflow-io-gcs-filesystem documentation extracting
</pre>
</div>
</div>

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>text</th>
      <th>name</th>
      <th>library</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>pandas.DataFrame.columns. AxisProperty\n\n    ...</td>
      <td>pandas.DataFrame.columns</td>
      <td>pandas</td>
    </tr>
    <tr>
      <th>1</th>
      <td>pandas.Series.index. AxisProperty\n\n    The i...</td>
      <td>pandas.Series.index</td>
      <td>pandas</td>
    </tr>
    <tr>
      <th>2</th>
      <td>pandas.DataFrame.index. AxisProperty\n\n    Th...</td>
      <td>pandas.DataFrame.index</td>
      <td>pandas</td>
    </tr>
    <tr>
      <th>3</th>
      <td>ipykernel.comm.Comm.topic. Bytes in module tra...</td>
      <td>ipykernel.comm.Comm.topic</td>
      <td>ipykernel</td>
    </tr>
    <tr>
      <th>4</th>
      <td>ipywidgets.Audio.value. Bytes in module traitl...</td>
      <td>ipywidgets.Audio.value</td>
      <td>ipykernel</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>57211</th>
      <td>aiohttp.ClientResponse.url. reify\n\n</td>
      <td>aiohttp.ClientResponse.url</td>
      <td>aiohttp</td>
    </tr>
    <tr>
      <th>57212</th>
      <td>aiohttp.ClientResponse.url_obj. reify\n\n</td>
      <td>aiohttp.ClientResponse.url_obj</td>
      <td>aiohttp</td>
    </tr>
    <tr>
      <th>57213</th>
      <td>aiohttp.ClientResponse.history. reify\n\n    A...</td>
      <td>aiohttp.ClientResponse.history</td>
      <td>aiohttp</td>
    </tr>
    <tr>
      <th>57214</th>
      <td>aiohttp.BodyPartReader.filename. reify\n\n    ...</td>
      <td>aiohttp.BodyPartReader.filename</td>
      <td>aiohttp</td>
    </tr>
    <tr>
      <th>57215</th>
      <td>aiohttp.BodyPartReader.name. reify\n\n    Retu...</td>
      <td>aiohttp.BodyPartReader.name</td>
      <td>aiohttp</td>
    </tr>
  </tbody>
</table>
<p>57216 rows × 3 columns</p>
</div></div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Command above will return DataFrame of three columns: <strong>text</strong> contains documentation of an object, <strong>name</strong> contains the name and <strong>library</strong> contains library of an object.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="2.-Storing">2. Storing<a class="anchor-link" href="#2.-Storing"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>A tool uses <strong>ElasticSearch</strong> to store and search data, <strong>sentence_transformers</strong> library to calculate embeddings for better search quallity.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Prelims">Prelims<a class="anchor-link" href="#Prelims"> </a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Make sure you initialised <strong>elasticsearch</strong> and sequence2vec model like below</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">es</span> <span class="o">=</span> <span class="n">Elasticsearch</span><span class="p">(</span><span class="s1">&#39;https://localhost:9200&#39;</span><span class="p">)</span>

<span class="n">model_name</span> <span class="o">=</span> <span class="s1">&#39;sentence-transformers/all-mpnet-base-v2&#39;</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">SentenceTransformer</span><span class="p">(</span><span class="n">model_name</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Creating-index-&amp;-indexing-data">Creating index &amp; indexing data<a class="anchor-link" href="#Creating-index-&amp;-indexing-data"> </a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>There are function to create index and index data from dataframe mentioned above:</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">doc_collection</span><span class="o">.</span><span class="n">search</span> <span class="kn">import</span> <span class="nn">index_data</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span> 
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Search">Search<a class="anchor-link" href="#Search"> </a></h3>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">doc_collection.search</span> <span class="kn">import</span> <span class="n">query</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>There are several ways to present data that was found. 
Query with following signature returns raw elasticsearch response:</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span> 
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>By specifying <code>field</code> parameter into <strong>name</strong>, you can get only names of methods.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span> 
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[&#39;pandas.DataFrame.drop&#39;,
 &#39;pandas.Series.drop&#39;,
 &#39;pandas.DataFrame.dropna&#39;,
 &#39;pyarrow.Table.drop&#39;,
 &#39;datasets.Dataset.drop_index&#39;,
 &#39;pandas.DataFrame.droplevel&#39;,
 &#39;datasets.IterableDatasetDict.remove_columns&#39;,
 &#39;datasets.IterableDataset.remove_columns&#39;,
 &#39;pandas.Series.droplevel&#39;,
 &#39;datasets.DatasetDict.remove_columns&#39;]</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>By spicifying <code>field</code> parameter into <strong>text</strong>, you'll be able to get documentation:</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span> 
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>pandas.DataFrame.drop. function drop in module pandas.core.frame

ddrroopp(self, labels=None, axis: &#39;Axis&#39; = 0, index=None, columns=None, level: &#39;Level | None&#39; = None, inplace: &#39;bool&#39; = False, errors: &#39;str&#39; = &#39;raise&#39;)
    Drop specified labels from rows or columns.
    
    Remove rows or columns by specifying label names and corresponding
    axis, or by specifying directly index or column names. When using a
    multi-index, labels on different levels can be removed by specifying
    the level. See the `user guide &lt;advanced.shown_levels&gt;`
    for more information about the now unused levels.
    
    Parameters
    ----------
    labels : single label or list-like
        Index or column labels to drop. A tuple will be used as a single
        label and not treated as a list-like.
    axis : {0 or &#39;index&#39;, 1 or &#39;columns&#39;}, default 0
        Whether to drop labels from the index (0 or &#39;index&#39;) or
        columns (1 or &#39;columns&#39;).
    index : single label or list-like
        Alternative to specifying axis (``labels, axis=0``
        is equivalent to ``index=labels``).
    columns : single label or list-like
        Alternative to specifying axis (``labels, axis=1``
        is equivalent to ``columns=labels``).
    level : int or level name, optional
        For MultiIndex, level from which the labels will be removed.
    inplace : bool, default False
        If False, return a copy. Otherwise, do operation
        inplace and return None.
    errors : {&#39;ignore&#39;, &#39;raise&#39;}, default &#39;raise&#39;
        If &#39;ignore&#39;, suppress error and only existing labels are
        dropped.
    
    Returns
    -------
    DataFrame or None
        DataFrame without the removed index or column labels or
        None if ``inplace=True``.
    
    Raises
    ------
    KeyError
        If any of the labels is not found in the selected axis.
    
    See Also
    --------
    DataFrame.loc : Label-location based indexer for selection by label.
    DataFrame.dropna : Return DataFrame with labels on given axis omitted
        where (all or any) data are missing.
    DataFrame.drop_duplicates : Return DataFrame with duplicate rows
        removed, optionally only considering certain columns.
    Series.drop : Return Series with specified index labels removed.
    
    Examples
    --------
    &gt;&gt;&gt; df = pd.DataFrame(np.arange(12).reshape(3, 4),
    ...                   columns=[&#39;A&#39;, &#39;B&#39;, &#39;C&#39;, &#39;D&#39;])
    &gt;&gt;&gt; df
       A  B   C   D
    0  0  1   2   3
    1  4  5   6   7
    2  8  9  10  11
    
    Drop columns
    
    &gt;&gt;&gt; df.drop([&#39;B&#39;, &#39;C&#39;], axis=1)
       A   D
    0  0   3
    1  4   7
    2  8  11
    
    &gt;&gt;&gt; df.drop(columns=[&#39;B&#39;, &#39;C&#39;])
       A   D
    0  0   3
    1  4   7
    2  8  11
    
    Drop a row by index
    
    &gt;&gt;&gt; df.drop([0, 1])
       A  B   C   D
    2  8  9  10  11
    
    Drop columns and/or rows of MultiIndex DataFrame
    
    &gt;&gt;&gt; midx = pd.MultiIndex(levels=[[&#39;lama&#39;, &#39;cow&#39;, &#39;falcon&#39;],
    ...                              [&#39;speed&#39;, &#39;weight&#39;, &#39;length&#39;]],
    ...                      codes=[[0, 0, 0, 1, 1, 1, 2, 2, 2],
    ...                             [0, 1, 2, 0, 1, 2, 0, 1, 2]])
    &gt;&gt;&gt; df = pd.DataFrame(index=midx, columns=[&#39;big&#39;, &#39;small&#39;],
    ...                   data=[[45, 30], [200, 100], [1.5, 1], [30, 20],
    ...                         [250, 150], [1.5, 0.8], [320, 250],
    ...                         [1, 0.8], [0.3, 0.2]])
    &gt;&gt;&gt; df
                    big     small
    lama    speed   45.0    30.0
            weight  200.0   100.0
            length  1.5     1.0
    cow     speed   30.0    20.0
            weight  250.0   150.0
            length  1.5     0.8
    falcon  speed   320.0   250.0
            weight  1.0     0.8
            length  0.3     0.2
    
    Drop a specific index combination from the MultiIndex
    DataFrame, i.e., drop the combination ``&#39;falcon&#39;`` and
    ``&#39;weight&#39;``, which deletes only the corresponding row
    
    &gt;&gt;&gt; df.drop(index=(&#39;falcon&#39;, &#39;weight&#39;))
                    big     small
    lama    speed   45.0    30.0
            weight  200.0   100.0
            length  1.5     1.0
    cow     speed   30.0    20.0
            weight  250.0   150.0
            length  1.5     0.8
    falcon  speed   320.0   250.0
            length  0.3     0.2
    
    &gt;&gt;&gt; df.drop(index=&#39;cow&#39;, columns=&#39;small&#39;)
                    big
    lama    speed   45.0
            weight  200.0
            length  1.5
    falcon  speed   320.0
            weight  1.0
            length  0.3
    
    &gt;&gt;&gt; df.drop(index=&#39;length&#39;, level=1)
                    big     small
    lama    speed   45.0    30.0
            weight  200.0   100.0
    cow     speed   30.0    20.0
            weight  250.0   150.0
    falcon  speed   320.0   250.0
            weight  1.0     0.8

</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Afterwords">Afterwords<a class="anchor-link" href="#Afterwords"> </a></h1>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This tool highly depends on python build of the one who run code. That's why unexpected behavior is likely to happen. Feel free to add issues if you have one!</p>

</div>
</div>
</div>
</div>


